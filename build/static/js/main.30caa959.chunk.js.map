{"version":3,"sources":["components/filterForm.js","components/Person.js","components/PersonList.js","services/persons.js","components/notification.js","App.js","index.js"],"names":["FilterForm","newFilter","handleFilterChange","value","onChange","Person","person","remove","name","number","onClick","id","PersonList","persons","filter","toUpperCase","includes","map","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","notificationStylePositive","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","notificationStyleNegative","Notification","message","type","style","App","useState","setPersons","setFilter","newName","setNewName","newNumber","setNewNumber","setNewFilter","setMessage","useEffect","console","log","personService","initialPersons","event","target","onSubmit","preventDefault","personObject","samePerson","find","length","updatedPerson","newPersons","setTimeout","some","alert","returnedPerson","concat","deletablePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.30caa959.chunk.js","sourcesContent":[" import React from 'react'\r\n\r\n const FilterForm = ({ newFilter, handleFilterChange }) => {\r\n\r\n  return(\r\n    <div>\r\n    filter shown with \r\n    <input\r\n      value={newFilter}\r\n      onChange={handleFilterChange}\r\n    />\r\n  </div>\r\n  )\r\n }\r\n    \r\nexport default FilterForm\r\n\r\n","import React from 'react'\r\n\r\nconst Person = ({ person, remove }) => {\r\n    \r\n    return (\r\n        <div>\r\n            <div>\r\n                {person.name} {person.number}\r\n                <button onClick={() => remove(person.id)}>delete</button>\r\n            </div>   \r\n         </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n \r\n \r\n // muodostetaan lista henkilöistä\r\n  const PersonList = ({ persons, filter, remove }) => {\r\n\r\n    return (\r\n      <div>\r\n        {persons.filter(person => person.name.toUpperCase().includes(filter.toUpperCase()))\r\n                .map(person=> <Person key={person.name} remove={remove} person={person}/>)  \r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default PersonList\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create, \r\n  update,\r\n  remove\r\n}","import React from 'react'\r\n\r\nvar notificationStylePositive = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px'\r\n  }\r\n\r\n  var notificationStyleNegative = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px'\r\n  }\r\n\r\nconst Notification = ({ message, type }) => {\r\n    if (message === null) {\r\n        return null\r\n    } else if (type === 'fail') {\r\n        return (\r\n            <div style={notificationStyleNegative}>\r\n              {message}\r\n            </div>\r\n          )\r\n    }\r\n    return (\r\n      <div style={notificationStylePositive}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport FilterForm from './components/filterForm'\nimport PersonList from './components/PersonList'\nimport personService from './services/persons'\nimport Notification from './components/notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ filter, setFilter ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter] = useState('')\n  const [ message, setMessage ] = useState(null)\n\n  useEffect(() => {\n    console.log(\"haettu data\")\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject= {\n      name: newName,\n      number: newNumber\n    }\n\n    const samePerson = persons.find(person => person.name === personObject.name)\n\n    //päivitetään vanhan henkilön numero\n    if (samePerson \n    && personObject.number.length > 0\n    && samePerson.number !== personObject.number\n    ) {\n\n      const updatedPerson = { ...samePerson, number: personObject.number}\n      \n      personService\n      .update(updatedPerson.id, updatedPerson)\n      .then(response => {\n        const newPersons = persons.map(person => person.id !== updatedPerson.id ? person: response)\n        setMessage(\n          `Updated ${personObject.name}'s number.`\n        )\n        setTimeout(() => {\n          setMessage(null)  \n        }, 5000)\n        setPersons(newPersons)\n      })\n      setNewName('')\n      setNewNumber('')\n      return\n    }  \n\n    //lisätään uusi henkilö\n    if (persons.some(person => person.name === personObject.name)) {\n      alert(personObject.name + ' is already added to phonebook')\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage(\n            `Added '${personObject.name}'.`  \n          )\n          setTimeout(() => {\n            setMessage(null)  \n          }, 5000)\n        })\n      }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = (id) => {\n\n    const deletablePerson = persons.find(person => person.id === id)\n\n    personService\n    .remove(id)\n    .then(response => {\n      console.log(response)\n      personService.getAll()\n      .then(persons => {\n        setMessage(\n          `Deleted ${deletablePerson.name}.`  \n        )\n        setTimeout(() => {\n          setMessage(null)  \n        }, 5000)\n        setPersons(persons)\n      })\n    })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n    setFilter(event.target.value)\n  }\n\n// muodostetaan näkymä\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n\n      <FilterForm newFilter={newFilter} handleFilterChange={handleFilterChange}/>\n      <h2>Add a person</h2>\n      <form onSubmit={addPerson}>\n        <div>\n          name: \n          <input \n            value={newName}\n            onChange={handleNameChange}\n          />\n        </div>\n        <div>\n          number:\n          <input\n            value={newNumber}\n            onChange={handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <PersonList persons={persons} filter={filter} remove={deletePerson}/>\n    </div>\n  )\n\n  }\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}