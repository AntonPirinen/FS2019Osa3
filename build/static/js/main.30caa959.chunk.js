(window.webpackJsonppuhelinluettelo=window.webpackJsonppuhelinluettelo||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},20:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(13),o=n.n(u),c=(n(20),n(14)),l=n(2),i=function(e){var t=e.newFilter,n=e.handleFilterChange;return a.a.createElement("div",null,"filter shown with",a.a.createElement("input",{value:t,onChange:n}))},m=function(e){var t=e.person,n=e.remove;return a.a.createElement("div",null,a.a.createElement("div",null,t.name," ",t.number,a.a.createElement("button",{onClick:function(){return n(t.id)}},"delete")))},d=function(e){var t=e.persons,n=e.filter,r=e.remove;return a.a.createElement("div",null,t.filter(function(e){return e.name.toUpperCase().includes(n.toUpperCase())}).map(function(e){return a.a.createElement(m,{key:e.name,remove:r,person:e})}))},f=n(3),s=n.n(f),p="/api/persons",b=function(){return s.a.get(p).then(function(e){return e.data})},v=function(e){return s.a.post(p,e).then(function(e){return e.data})},g=function(e,t){return s.a.put("".concat(p,"/").concat(e),t).then(function(e){return e.data})},h=function(e){return s.a.delete("".concat(p,"/").concat(e)).then(function(e){return e.data})},O={color:"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},E={color:"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},j=function(e){var t=e.message,n=e.type;return null===t?null:"fail"===n?a.a.createElement("div",{style:E},t):a.a.createElement("div",{style:O},t)};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var w=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],u=t[1],o=Object(r.useState)(""),m=Object(l.a)(o,2),f=m[0],s=m[1],p=Object(r.useState)(""),O=Object(l.a)(p,2),E=O[0],w=O[1],S=Object(r.useState)(""),k=Object(l.a)(S,2),x=k[0],P=k[1],C=Object(r.useState)(""),D=Object(l.a)(C,2),F=D[0],B=D[1],T=Object(r.useState)(null),U=Object(l.a)(T,2),z=U[0],A=U[1];Object(r.useEffect)(function(){console.log("haettu data"),b().then(function(e){u(e)})},[]);return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(j,{message:z}),a.a.createElement(i,{newFilter:F,handleFilterChange:function(e){B(e.target.value),s(e.target.value)}}),a.a.createElement("h2",null,"Add a person"),a.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={name:E,number:x},r=n.find(function(e){return e.name===t.name});if(r&&t.number.length>0&&r.number!==t.number){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r,{number:t.number});return g(a.id,a).then(function(e){var r=n.map(function(t){return t.id!==a.id?t:e});A("Updated ".concat(t.name,"'s number.")),setTimeout(function(){A(null)},5e3),u(r)}),w(""),void P("")}n.some(function(e){return e.name===t.name})?alert(t.name+" is already added to phonebook"):v(t).then(function(e){u(n.concat(e)),A("Added '".concat(t.name,"'.")),setTimeout(function(){A(null)},5e3)}),w(""),P("")}},a.a.createElement("div",null,"name:",a.a.createElement("input",{value:E,onChange:function(e){w(e.target.value)}})),a.a.createElement("div",null,"number:",a.a.createElement("input",{value:x,onChange:function(e){P(e.target.value)}})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add"))),a.a.createElement("h2",null,"Numbers"),a.a.createElement(d,{persons:n,filter:f,remove:function(e){var t=n.find(function(t){return t.id===e});h(e).then(function(e){console.log(e),b().then(function(e){A("Deleted ".concat(t.name,".")),setTimeout(function(){A(null)},5e3),u(e)})})}}))};o.a.render(a.a.createElement(w,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.30caa959.chunk.js.map